(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3987:(e,t,r)=>{Promise.resolve().then(r.bind(r,8152))},8152:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(5155),n=r(4085),i=r(6850),o=r(2336),s=r(5785),l=r(6535),c=r(2364),d=r(5739),u=r(2115),h=r(6046),f=r(814);function m(){let e=(0,u.useId)(),t=(0,h.useRouter)(),[r,m]=(0,u.useState)(!1),[p,g]=(0,u.useState)(!1),[b,x]=(0,u.useState)(""),[w,v]=(0,u.useState)("");(0,u.useEffect)(()=>{let e=setTimeout(()=>{m(!0)},1e3);return()=>clearTimeout(e)},[]);let y=async e=>{e.preventDefault(),g(!0);try{let e=await (0,d.iD)(b,w);localStorage.setItem("token",e.token);let r=await (0,d.BS)(e.token);localStorage.setItem("initialStatus",JSON.stringify(r)),localStorage.setItem("lastStatusCheck",Date.now().toString()),f.o.success("Successfully logged in!"),t.push("/dashboard")}catch(e){f.o.error(e instanceof Error?e.message:"Login failed"),g(!1)}};return p?(0,a.jsx)(c.x,{message:"Signing in..."}):r?(0,a.jsxs)("div",{className:"relative min-h-screen",children:[(0,a.jsx)(i.b,{className:"animate-in fade-in duration-500",squareSize:6,gridGap:12,color:"rgb(255, 255, 255)",maxOpacity:.1,flickerChance:.05}),(0,a.jsx)("main",{className:"relative flex min-h-screen flex-col items-center justify-center p-4 select-none",children:(0,a.jsx)("div",{className:"w-full max-w-md",children:r&&(0,a.jsxs)("div",{className:"relative flex flex-col gap-8 rounded-xl border bg-background/95 p-8 backdrop-blur animate-in fade-in slide-in-from-bottom-4 duration-1000 fill-mode-both",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)("div",{className:"flex size-11 shrink-0 items-center justify-center rounded-full border border-border","aria-hidden":"true",children:(0,a.jsx)("svg",{className:"size-6",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.477 2 2 6.463 2 11.97c0 4.404 2.865 8.14 6.839 9.458.5.092.682-.216.682-.48 0-.236-.008-.864-.013-1.695-2.782.602-3.369-1.337-3.369-1.337-.454-1.151-1.11-1.458-1.11-1.458-.908-.618.069-.606.069-.606 1.003.07 1.531 1.027 1.531 1.027.892 1.524 2.341 1.084 2.91.828.092-.643.35-1.083.636-1.332-2.22-.251-4.555-1.107-4.555-4.927 0-1.088.39-1.979 1.029-2.675-.103-.252-.446-1.266.098-2.638 0 0 .84-.268 2.75 1.022A9.607 9.607 0 0112 6.82c.85.004 1.705.114 2.504.336 1.909-1.29 2.747-1.022 2.747-1.022.546 1.372.202 2.386.1 2.638.64.696 1.028 1.587 1.028 2.675 0 3.83-2.339 4.673-4.566 4.92.359.307.678.915.678 1.846 0 1.332-.012 2.407-.012 2.734 0 .267.18.577.688.48 3.97-1.32 6.833-5.054 6.833-9.458C22 6.463 17.522 2 12 2z"})})}),(0,a.jsxs)("div",{className:"text-center space-y-1",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"GreenStreak"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automate your GitHub contribution graph"})]})]}),(0,a.jsxs)("form",{className:"space-y-4",onSubmit:y,children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s.J,{htmlFor:"".concat(e,"-username"),children:"Username"}),(0,a.jsx)(o.p,{id:"".concat(e,"-username"),placeholder:"Enter your username",required:!0,className:"select-text",value:b,onChange:e=>x(e.target.value),disabled:p})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s.J,{htmlFor:"".concat(e,"-password"),children:"Password"}),(0,a.jsx)(o.p,{id:"".concat(e,"-password"),placeholder:"Enter your password",type:"password",required:!0,className:"select-text",value:w,onChange:e=>v(e.target.value),disabled:p})]}),(0,a.jsx)(n.$,{type:"submit",className:"w-full",disabled:p,children:p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.k,{className:"mr-2 size-4"}),"Logging in..."]}):"Login"})]})]})})})]}):(0,a.jsx)(c.x,{message:"Loading..."})}},4085:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var a=r(5155),n=r(2317),i=r(1027),o=r(2115),s=r(9602);let l=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-colors outline-offset-2 focus-visible:outline focus-visible:outline-2 focus-visible:outline-ring/70 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm shadow-black/5 hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm shadow-black/5 hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm shadow-black/5 hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm shadow-black/5 hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-lg px-3 text-xs",lg:"h-10 rounded-lg px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=o.forwardRef((e,t)=>{let{className:r,variant:i,size:o,asChild:c=!1,...d}=e,u=c?n.DX:"button";return(0,a.jsx)(u,{className:(0,s.cn)(l({variant:i,size:o,className:r})),ref:t,...d})});c.displayName="Button"},6850:(e,t,r)=>{"use strict";r.d(t,{b:()=>o});var a=r(5155),n=r(2115),i=r(9602);let o=e=>{let{squareSize:t=4,gridGap:r=6,flickerChance:o=.3,color:s="rgb(0, 0, 0)",width:l,height:c,className:d,maxOpacity:u=.3}=e,h=(0,n.useRef)(null),f=(0,n.useRef)(null),m=(0,n.useRef)(),[p,g]=(0,n.useState)(!1),[b,x]=(0,n.useState)({width:0,height:0}),w=(0,n.useMemo)(()=>(e=>{let t=document.createElement("canvas");t.width=t.height=1;let r=t.getContext("2d");if(!r)return"rgba(255, 0, 0,";r.fillStyle=e,r.fillRect(0,0,1,1);let[a,n,i]=Array.from(r.getImageData(0,0,1,1).data);return"rgba(".concat(a,", ").concat(n,", ").concat(i,",")})(s),[s]),v=(0,n.useCallback)((e,a,n)=>{let i=Math.min(window.devicePixelRatio||1,2);e.width=a*i,e.height=n*i,e.style.width="".concat(a,"px"),e.style.height="".concat(n,"px");let o=Math.floor(a/(2*t+r)),s=Math.floor(n/(2*t+r)),l=new Float32Array(o*s);for(let e=0;e<l.length;e++)l[e]=Math.random()*u;return{cols:o,rows:s,squares:l,dpr:i}},[t,r,u]),y=(0,n.useCallback)(e=>{let t=Math.ceil(.1*e.length);for(let r=0;r<t;r++){let t=Math.floor(Math.random()*e.length);Math.random()<o&&(e[t]=Math.random()*u)}},[o,u]),j=(0,n.useCallback)((e,a,n,i,o,s,l)=>{e.clearRect(0,0,a,n),e.beginPath();for(let a=0;a<i;a++)for(let n=0;n<o;n++){let i=s[a*o+n];i>.01&&(e.fillStyle="".concat(w).concat(i,")"),e.fillRect(a*(2*t+r)*l,n*(2*t+r)*l,2*t*l,2*t*l))}e.fill()},[w,t,r]);return(0,n.useEffect)(()=>{let e=h.current,t=f.current;if(!e||!t)return;let r=()=>{let t=window.innerWidth,r=window.innerHeight+1;return x({width:t,height:r}),v(e,t,r)},a=e.getContext("2d",{alpha:!1});if(!a)return;let n=r(),i=0,o=1e3/30,s=t=>{if(p){if(t-i<o){m.current=requestAnimationFrame(s);return}i=t,y(n.squares),j(a,e.width,e.height,n.cols,n.rows,n.squares,n.dpr),m.current=requestAnimationFrame(s)}},l=()=>{n=r()};window.addEventListener("resize",l);let c=new ResizeObserver(l);c.observe(t);let d=new IntersectionObserver(e=>{let[t]=e;g(t.isIntersecting)},{threshold:0});return d.observe(e),p&&(m.current=requestAnimationFrame(s)),()=>{m.current&&cancelAnimationFrame(m.current),window.removeEventListener("resize",l),c.disconnect(),d.disconnect()}},[v,y,j,l,c,p]),(0,a.jsx)("div",{ref:f,className:(0,i.cn)("fixed inset-0 overflow-hidden",d),children:(0,a.jsx)("canvas",{ref:h,className:"pointer-events-none",style:{width:b.width,height:b.height,position:"fixed",left:0,top:0,display:"block"}})})}},2336:(e,t,r)=>{"use strict";r.d(t,{p:()=>i});var a=r(5155),n=r(9602);let i=r(2115).forwardRef((e,t)=>{let{className:r,type:i,...o}=e;return(0,a.jsx)("input",{type:i,className:(0,n.cn)("flex h-9 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50","search"===i&&"[&::-webkit-search-cancel-button]:appearance-none [&::-webkit-search-decoration]:appearance-none [&::-webkit-search-results-button]:appearance-none [&::-webkit-search-results-decoration]:appearance-none","file"===i&&"p-0 pr-3 italic text-muted-foreground/70 file:me-3 file:h-full file:border-0 file:border-r file:border-solid file:border-input file:bg-transparent file:px-3 file:text-sm file:font-medium file:not-italic file:text-foreground",r),ref:t,...o})});i.displayName="Input"},5785:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(5155),n=r(2115),i=r(9602);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("label",{ref:t,className:(0,i.cn)("text-sm font-medium leading-4 text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...n})});o.displayName="Label"},2364:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var a=r(5155),n=r(6535),i=r(6850);function o(e){let{message:t="Loading..."}=e;return(0,a.jsxs)("div",{className:"relative min-h-screen",children:[(0,a.jsx)(i.b,{className:"animate-in fade-in duration-500",squareSize:6,gridGap:12,color:"rgb(255, 255, 255)",maxOpacity:.1,flickerChance:.05}),(0,a.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 rounded-xl border border-white/5 bg-white/2 p-8 text-center backdrop-blur-[6px] animate-in fade-in slide-in-from-bottom-4 duration-1000 fill-mode-both",children:[(0,a.jsx)(n.k,{className:"size-8"}),(0,a.jsx)("p",{className:"text-white/90",children:t})]})})]})}},6535:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});var a=r(5155);let n=e=>{let{className:t=""}=e;return(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full border-2 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite] ".concat(t),role:"status",children:(0,a.jsx)("span",{className:"sr-only",children:"Loading..."})})}},5739:(e,t,r)=>{"use strict";r.d(t,{B6:()=>c,BS:()=>s,IT:()=>d,g:()=>l,iD:()=>o,lR:()=>u});var a=r(2651);let n="".concat(window.location.protocol,"//").concat(window.location.host),i=a.A.create({baseURL:n,timeout:1e4,headers:{"Content-Type":"application/json"}});i.interceptors.response.use(e=>e,e=>{var t,r;if("ECONNABORTED"===e.code)throw Error("Request timed out. Please try again.");if(!e.response)throw Error("Unable to connect to the server. Please check your internet connection.");throw Error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"An error occurred")});let o=async(e,t)=>{try{let{data:r}=await i.post("/api/auth/login",{username:e,password:t});return r}catch(e){if(e instanceof Error)throw e;throw Error("Login failed")}},s=async e=>{try{let{data:t}=await i.get("/api/auto-commit/status",{headers:{Authorization:"Bearer ".concat(e)}});return t}catch(e){if(e instanceof Error)throw e;throw Error("Failed to get status")}},l=async(e,t)=>{try{let{data:r}=await i.post("/api/auto-commit/schedule",e,{headers:{Authorization:"Bearer ".concat(t)}});return r}catch(e){if(e instanceof Error)throw e;throw Error("Failed to schedule auto-commit")}},c=async e=>{try{await i.post("/api/auto-commit/cancel",null,{headers:{Authorization:"Bearer ".concat(e)}})}catch(e){if(e instanceof Error)throw e;throw Error("Failed to cancel auto-commit job")}},d=async e=>{try{let{data:t}=await i.get("/api/auto-commit/current-history",{headers:{Authorization:"Bearer ".concat(e)}});return t}catch(e){if(e instanceof Error)throw e;throw Error("Failed to get current history")}},u=async e=>{try{let{data:t}=await i.get("/api/auto-commit/history",{headers:{Authorization:"Bearer ".concat(e)}});return t}catch(e){if(e instanceof Error)throw e;throw Error("Failed to get job history")}}},9602:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(3463),n=r(9795);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[814,618,441,517,358],()=>t(3987)),_N_E=e.O()}]);